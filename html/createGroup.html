<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a user defined group-level object with correct generic...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body><div class="container">

<table width="100%" summary="page for createGroup {mirt}"><tr><td>createGroup {mirt}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create a user defined group-level object with correct generic functions</h2>

<h3>Description</h3>

<p>Initializes the proper S4 class and methods necessary for mirt functions to use in estimation for defining
customized group-level functions. To use the defined objects pass to the
<code>mirt(..., customGroup = OBJECT)</code> command, and ensure that the class parameters are properly labelled.
</p>


<h3>Usage</h3>

<pre>
createGroup(
  par,
  est,
  den,
  nfact,
  standardize = FALSE,
  gr = NULL,
  hss = NULL,
  gen = NULL,
  lbound = NULL,
  ubound = NULL,
  derivType = "Richardson"
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>par</code></td>
<td>
<p>a named vector of the starting values for the parameters</p>
</td></tr>
<tr valign="top"><td><code>est</code></td>
<td>
<p>a logical vector indicating which parameters should be freely estimated by default</p>
</td></tr>
<tr valign="top"><td><code>den</code></td>
<td>
<p>the probability density function given the Theta/ability values.
First input contains a vector of all the defined parameters and the second input
must be a matrix called <code>Theta</code>.
Function also must return a <code>numeric</code> vector object corresponding to the associated densities for
each row in the <code>Theta</code> input</p>
</td></tr>
<tr valign="top"><td><code>nfact</code></td>
<td>
<p>number of factors required for the model. E.g., for unidimensional models with only one
dimension of integration <code>nfact = 1</code></p>
</td></tr>
<tr valign="top"><td><code>standardize</code></td>
<td>
<p>logical; use standardization of the quadrature table method proposed by
Woods and Thissen (2006)? If TRUE, the logical elements named <code>'MEAN_1'</code> and <code>'COV_11'</code>
can be included in the parameter vector, and when these values are set to FALSE in the <code>est</code>
input the E-table will be standardized to these fixed values (e.g.,
<code>par &lt;- c(a1=1, d=0, MEAN_1=0, COV_11=1)</code> with <code>est &lt;- c(TRUE, TRUE, FALSE, FALSE)</code> will
standardize the E-table to have a 0 mean and unit variance)</p>
</td></tr>
<tr valign="top"><td><code>gr</code></td>
<td>
<p>gradient function (vector of first derivatives) of the log-likelihood used in
estimation. The function must be of the form <code>gr(x, Theta)</code>, where <code>x</code> is the object
defined by <code>createGroup()</code> and <code>Theta</code> is a matrix of latent trait parameters</p>
</td></tr>
<tr valign="top"><td><code>hss</code></td>
<td>
<p>Hessian function (matrix of second derivatives) of the log-likelihood used in
estimation. If not specified a numeric approximation will be used.
The input is identical to the <code>gr</code> argument</p>
</td></tr>
<tr valign="top"><td><code>gen</code></td>
<td>
<p>a function used when <code>GenRandomPars = TRUE</code> is passed to the estimation function
to generate random starting values. Function must be of the form <code>function(object) ...</code>
and must return a vector with properties equivalent to the <code>par</code> object. If NULL,
parameters will remain at the defined starting values by default</p>
</td></tr>
<tr valign="top"><td><code>lbound</code></td>
<td>
<p>optional vector indicating the lower bounds of the parameters. If not specified
then the bounds will be set to -Inf</p>
</td></tr>
<tr valign="top"><td><code>ubound</code></td>
<td>
<p>optional vector indicating the lower bounds of the parameters. If not specified
then the bounds will be set to Inf</p>
</td></tr>
<tr valign="top"><td><code>derivType</code></td>
<td>
<p>if the <code>gr</code> or <code>hss</code> terms are not specified this type will be used to
obtain them numerically. Default is 'Richardson'</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
doi: <a href="https://doi.org/10.18637/jss.v048.i06">10.18637/jss.v048.i06</a>
</p>


<h3>Examples</h3>

<pre><code class="r"># normal density example, N(mu, sigma^2)
den &lt;- function(obj, Theta) dnorm(Theta, obj@par[1], sqrt(obj@par[2]))
par &lt;- c(mu = 0, sigma2 = .5)
est &lt;- c(FALSE, TRUE)
lbound &lt;- c(-Inf, 0)
grp &lt;- createGroup(par, est, den, nfact = 1, lbound=lbound)

dat &lt;- expand.table(LSAT6)
mod &lt;- mirt(dat, 1, &#39;Rasch&#39;)
modcustom &lt;- mirt(dat, 1, &#39;Rasch&#39;, customGroup=grp)

coef(mod)
</code></pre>

<pre><code>## $Item_1
##     a1     d g u
## par  1 2.731 0 1
## 
## $Item_2
##     a1     d g u
## par  1 0.999 0 1
## 
## $Item_3
##     a1    d g u
## par  1 0.24 0 1
## 
## $Item_4
##     a1     d g u
## par  1 1.307 0 1
## 
## $Item_5
##     a1   d g u
## par  1 2.1 0 1
## 
## $GroupPars
##     MEAN_1 COV_11
## par      0  0.572
</code></pre>

<pre><code class="r">coef(modcustom)
</code></pre>

<pre><code>## $Item_1
##     a1     d g u
## par  1 2.729 0 1
## 
## $Item_2
##     a1     d g u
## par  1 0.998 0 1
## 
## $Item_3
##     a1    d g u
## par  1 0.24 0 1
## 
## $Item_4
##     a1     d g u
## par  1 1.306 0 1
## 
## $Item_5
##     a1     d g u
## par  1 2.099 0 1
## 
## $GroupPars
##     mu sigma2
## par  0  0.569
</code></pre>


<hr /><div style="text-align: center;">[Package <em>mirt</em> version 1.36.2 <a href="00Index.html">Index</a>]</div>
</div></body></html>
