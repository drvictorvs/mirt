<!DOCTYPE html><html><head><title>R: Expand summary table of patterns and frequencies</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body><div class="container">

<table style="width: 100%;"><tr><td>expand.table {mirt}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='expand.table'>Expand summary table of patterns and frequencies</h2>

<h3>Description</h3>

<p>The <code>expand.table</code> function expands a summary table of unique response
patterns to a full sized data-set. By default the response frequencies are
assumed to be on rightmost column of the input data, though this can be modified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand.table(tabdata, freq = colnames(tabdata)[ncol(tabdata)], sample = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand.table_:_tabdata">tabdata</code></td>
<td>
<p>An object of class <code>data.frame</code> or <code>matrix</code>
with the unique response patterns and the number of frequencies
in the rightmost column (though see <code>freq</code> for details on how to omit this
column)</p>
</td></tr>
<tr><td><code id="expand.table_:_freq">freq</code></td>
<td>
<p>either a character vector specifying the column in <code>tabdata</code>
to be used as the frequency count indicator for each response pattern (defaults to
the right-most column) or a integer vector of length <code>nrow(tabdata)</code> specifying
the frequency counts. When using the latter approach the <code>tabdata</code> input should not
include any information regarding the counts, and instead should only include the unique
response patterns themselves</p>
</td></tr>
<tr><td><code id="expand.table_:_sample">sample</code></td>
<td>
<p>logical; randomly switch the rows in the expanded table? This does not change the
expanded data, only the row locations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric matrix with all the response patterns.
</p>


<h3>Author(s)</h3>

<p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06">doi:10.18637/jss.v048.i06</a>
</p>


<h3>Examples</h3>

<pre><code class="language-r">data(LSAT7)
head(LSAT7) # frequency in right-most column
</code></pre>
<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5 freq
## 1      0      0      0      0      0   12
## 2      0      0      0      0      1   19
## 3      0      0      0      1      0    1
## 4      0      0      0      1      1    7
## 5      0      0      1      0      0    3
## 6      0      0      1      0      1   19
</code></pre>
<pre><code class="language-r">LSAT7full &lt;- expand.table(LSAT7)
head(LSAT7full)
</code></pre>
<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5
## 1      0      0      0      0      0
## 2      0      0      0      0      0
## 3      0      0      0      0      0
## 4      0      0      0      0      0
## 5      0      0      0      0      0
## 6      0      0      0      0      0
</code></pre>
<pre><code class="language-r">dim(LSAT7full)
</code></pre>
<pre><code>## [1] 1000    5
</code></pre>
<pre><code class="language-r"># randomly switch rows in the expanded response table
LSAT7samp &lt;- expand.table(LSAT7, sample = TRUE)
head(LSAT7samp)
</code></pre>
<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5
## 1      1      0      1      0      1
## 2      1      0      1      1      0
## 3      1      1      1      0      1
## 4      1      1      1      1      1
## 5      1      0      1      1      1
## 6      1      1      0      1      1
</code></pre>
<pre><code class="language-r">colMeans(LSAT7full)
</code></pre>
<pre><code>## Item.1 Item.2 Item.3 Item.4 Item.5 
##  0.828  0.658  0.772  0.606  0.843
</code></pre>
<pre><code class="language-r">colMeans(LSAT7samp) #equal
</code></pre>
<pre><code>## Item.1 Item.2 Item.3 Item.4 Item.5 
##  0.828  0.658  0.772  0.606  0.843
</code></pre>
<pre><code class="language-r">#--------

## No test: 
# Generate data from separate response pattern matrix and freq vector
# The following uses Table 2.1 from de Ayala (2009)
f &lt;- c(691,2280,242,235,158,184,1685,1053,134,462,92,65,571,79,87,41,1682,702,
       370,63,626,412,166,52,28,15,2095,1219,500,187,40,3385)

pat &lt;- matrix(c(
   0, 0, 0, 0, 0,
   1, 0, 0, 0, 0,
   0, 1, 0, 0, 0,
   0, 0, 1, 0, 0,
   0, 0, 0, 1, 0,
   0, 0, 0, 0, 1,
   1, 1, 0, 0, 0,
   1, 0, 1, 0, 0,
   0, 1, 1, 0, 0,
   1, 0, 0, 1, 0,
   0, 1, 0, 1, 0,
   0, 0, 1, 1, 0,
   1, 0, 0, 0, 1,
   0, 1, 0, 0, 1,
   0, 0, 1, 0, 1,
   0, 0, 0, 1, 1,
   1, 1, 1, 0, 0,
   1, 1, 0, 1, 0,
   1, 0, 1, 1, 0,
   0, 1, 1, 1, 0,
   1, 1, 0, 0, 1,
   1, 0, 1, 0, 1,
   1, 0, 0, 1, 1,
   0, 1, 1, 0, 1,
   0, 1, 0, 1, 1,
   0, 0, 1, 1, 1,
   1, 1, 1, 1, 0,
   1, 1, 1, 0, 1,
   1, 1, 0, 1, 1,
   1, 0, 1, 1, 1,
   0, 1, 1, 1, 1,
   1, 1, 1, 1, 1), ncol=5, byrow=TRUE)

colnames(pat) &lt;- paste0('Item.', 1:5)
head(pat)
</code></pre>
<pre><code>##      Item.1 Item.2 Item.3 Item.4 Item.5
## [1,]      0      0      0      0      0
## [2,]      1      0      0      0      0
## [3,]      0      1      0      0      0
## [4,]      0      0      1      0      0
## [5,]      0      0      0      1      0
## [6,]      0      0      0      0      1
</code></pre>
<pre><code class="language-r">table2.1 &lt;- expand.table(pat, freq = f)
dim(table2.1)
</code></pre>
<pre><code>## [1] 19601     5
</code></pre>
<pre><code class="language-r">## End(No test)
</code></pre>


<hr /><div style="text-align: center;">[Package <em>mirt</em> version 1.40 <a href="00Index.html">Index</a>]</div>
</div>
</body></html>
